<view class="container data-v-efa7a1e8"><view class="search-bar data-v-efa7a1e8"><view class="search-box data-v-efa7a1e8"><view class="fa fa-search _i data-v-efa7a1e8"></view><input type="text" placeholder="搜索公告或活动" data-event-opts="{{[['input',[['onSearchInput',['$event']]]]]}}" bindinput="__e" class="data-v-efa7a1e8"/></view></view><view class="tab-bar data-v-efa7a1e8"><view data-event-opts="{{[['tap',[['switchTab',['notice']]]]]}}" class="{{['data-v-efa7a1e8',(currentTab==='notice')?'active':'']}}" bindtap="__e"><view class="fa fa-bullhorn _i data-v-efa7a1e8"></view><text class="data-v-efa7a1e8">公告</text></view><view data-event-opts="{{[['tap',[['switchTab',['activity']]]]]}}" class="{{['data-v-efa7a1e8',(currentTab==='activity')?'active':'']}}" bindtap="__e"><view class="fa fa-calendar _i data-v-efa7a1e8"></view><text class="data-v-efa7a1e8">活动</text></view></view><view class="content-area data-v-efa7a1e8"><block wx:if="{{currentTab==='notice'}}"><view class="data-v-efa7a1e8"><view class="notice-list data-v-efa7a1e8"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="__i0__" wx:key="announcementId"><view data-event-opts="{{[['tap',[['goNoticeDetail',['$0'],[[['filteredNoticeList','announcementId',item.$orig.announcementId,'announcementId']]]]]]]}}" class="notice-item data-v-efa7a1e8" bindtap="__e"><view class="item-header data-v-efa7a1e8"><view class="title data-v-efa7a1e8">{{item.$orig.title}}</view><view class="{{['status-tag','data-v-efa7a1e8',item.$orig.type==='public'?'public':'internal']}}">{{''+(item.$orig.type==='public'?'公开':'内部')+''}}</view></view><view class="info data-v-efa7a1e8"><text class="time data-v-efa7a1e8">{{item.m0}}</text><text class="source data-v-efa7a1e8">{{item.$orig.clubName||'系统公告'}}</text></view></view></block></view></view></block><block wx:if="{{currentTab==='activity'}}"><view class="data-v-efa7a1e8"><view class="activity-list data-v-efa7a1e8"><block wx:for="{{$root.l1}}" wx:for-item="item" wx:for-index="__i1__" wx:key="activityId"><view data-event-opts="{{[['tap',[['goActivityDetail',['$0'],[[['filteredActivityList','activityId',item.$orig.activityId,'activityId']]]]]]]}}" class="activity-item data-v-efa7a1e8" bindtap="__e"><view class="item-header data-v-efa7a1e8"><view class="title data-v-efa7a1e8">{{item.$orig.name}}</view><view class="{{['status-tag','data-v-efa7a1e8',(item.$orig.status===0)?'status-pending':'',(item.$orig.status===1)?'status-active':'',(item.$orig.status===2)?'status-ended':'']}}">{{''+item.m1+''}}</view></view><view class="time data-v-efa7a1e8"><view class="fa fa-calendar-o _i data-v-efa7a1e8"></view><text class="data-v-efa7a1e8">{{item.m2+" - "+item.m3}}</text></view><view class="location data-v-efa7a1e8"><view class="fa fa-map-marker _i data-v-efa7a1e8"></view><text class="data-v-efa7a1e8">{{item.$orig.location}}</text></view><view class="organizer data-v-efa7a1e8"><view class="fa fa-user-o _i data-v-efa7a1e8"></view><text class="data-v-efa7a1e8">{{item.$orig.clubName||item.$orig.nickName||'未知组织者'}}</text></view></view></block></view></view></block></view><block wx:if="{{loading}}"><view class="loading-container data-v-efa7a1e8"><view class="loading-spinner data-v-efa7a1e8"></view><text class="data-v-efa7a1e8">加载中...</text></view></block><block wx:if="{{$root.g0}}"><view class="empty-container data-v-efa7a1e8"><view class="empty-icon data-v-efa7a1e8"><view class="fa fa-inbox _i data-v-efa7a1e8"></view></view><text class="empty-text data-v-efa7a1e8">暂无内容</text><text class="empty-subtext data-v-efa7a1e8">请稍后再试或刷新页面</text><button data-event-opts="{{[['tap',[['refreshData',['$event']]]]]}}" class="refresh-btn data-v-efa7a1e8" bindtap="__e"><view class="fa fa-refresh _i data-v-efa7a1e8"></view><text class="data-v-efa7a1e8">刷新</text></button></view></block></view>