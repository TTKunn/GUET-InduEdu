<view class="container data-v-070ac2dc"><view class="club-banner data-v-070ac2dc"><image class="banner-img data-v-070ac2dc" src="{{$root.m0}}" mode="aspectFill"></image><view class="banner-mask data-v-070ac2dc"></view><view class="banner-content data-v-070ac2dc"><view class="club-logo-wrapper data-v-070ac2dc"><image class="club-logo data-v-070ac2dc" src="{{$root.m1}}" mode="aspectFill"></image></view><view class="club-title-info data-v-070ac2dc"><text class="club-name data-v-070ac2dc">{{clubInfo.name||'社团名称'}}</text><view class="badge-group data-v-070ac2dc"><view class="member-badge data-v-070ac2dc">成员</view><block wx:if="{{clubInfo.isVerified}}"><view class="verified-badge data-v-070ac2dc">已认证</view></block></view></view><block wx:if="{{isMember}}"><view class="quit-btn-wrapper data-v-070ac2dc"><button data-event-opts="{{[['tap',[['confirmQuitClub',['$event']]]]]}}" class="quit-btn data-v-070ac2dc" bindtap="__e">退出社团</button></view></block></view></view><view class="tab-bar data-v-070ac2dc"><view data-event-opts="{{[['tap',[['switchTab',['info']]]]]}}" class="{{['tab-item','data-v-070ac2dc',(currentTab==='info')?'active':'']}}" bindtap="__e"><text class="data-v-070ac2dc">社团信息</text><block wx:if="{{currentTab==='info'}}"><view class="indicator data-v-070ac2dc"></view></block></view><view data-event-opts="{{[['tap',[['switchTab',['activities']]]]]}}" class="{{['tab-item','data-v-070ac2dc',(currentTab==='activities')?'active':'']}}" bindtap="__e"><text class="data-v-070ac2dc">社团活动</text><block wx:if="{{currentTab==='activities'}}"><view class="indicator data-v-070ac2dc"></view></block></view><view data-event-opts="{{[['tap',[['switchTab',['announcements']]]]]}}" class="{{['tab-item','data-v-070ac2dc',(currentTab==='announcements')?'active':'']}}" bindtap="__e"><text class="data-v-070ac2dc">社团公告</text><block wx:if="{{currentTab==='announcements'}}"><view class="indicator data-v-070ac2dc"></view></block></view><view data-event-opts="{{[['tap',[['switchTab',['achievements']]]]]}}" class="{{['tab-item','data-v-070ac2dc',(currentTab==='achievements')?'active':'']}}" bindtap="__e"><text class="data-v-070ac2dc">社团成果</text><block wx:if="{{currentTab==='achievements'}}"><view class="indicator data-v-070ac2dc"></view></block></view><view data-event-opts="{{[['tap',[['switchTab',['attendance']]]]]}}" class="{{['tab-item','data-v-070ac2dc',(currentTab==='attendance')?'active':'']}}" bindtap="__e"><text class="data-v-070ac2dc">社团考勤</text><block wx:if="{{currentTab==='attendance'}}"><view class="indicator data-v-070ac2dc"></view></block></view></view><view class="tab-content data-v-070ac2dc"><view hidden="{{!(currentTab==='info')}}" class="tab-panel data-v-070ac2dc"><view class="club-info-card data-v-070ac2dc"><view class="info-item data-v-070ac2dc"><view class="fa fa-user _i data-v-070ac2dc"></view><text class="item-title data-v-070ac2dc">负责人</text><text class="item-content data-v-070ac2dc">{{clubInfo.nickName||'暂无'}}</text></view><view class="info-item data-v-070ac2dc"><view class="fa fa-users _i data-v-070ac2dc"></view><text class="item-title data-v-070ac2dc">成员数</text><text class="item-content data-v-070ac2dc">{{(clubInfo.memberCount||0)+" 人"}}</text></view><view class="info-item data-v-070ac2dc"><view class="fa fa-calendar _i data-v-070ac2dc"></view><text class="item-title data-v-070ac2dc">成立时间</text><text class="item-content data-v-070ac2dc">{{$root.m2}}</text></view><view class="info-item data-v-070ac2dc"><view class="fa fa-building _i data-v-070ac2dc"></view><text class="item-title data-v-070ac2dc">所属学院</text><text class="item-content data-v-070ac2dc">{{clubInfo.deptName||'暂无'}}</text></view><view class="info-item data-v-070ac2dc"><view class="fa fa-tag _i data-v-070ac2dc"></view><text class="item-title data-v-070ac2dc">社团类别</text><text class="item-content data-v-070ac2dc">{{clubInfo.categoryName||'暂无'}}</text></view></view><view class="club-desc data-v-070ac2dc"><text class="section-title data-v-070ac2dc">社团简介</text><text class="desc-content data-v-070ac2dc">{{clubInfo.description||'暂无简介'}}</text></view><view class="club-members data-v-070ac2dc"><text class="section-title data-v-070ac2dc">社团成员</text><view class="member-list data-v-070ac2dc"><block wx:for="{{$root.l0}}" wx:for-item="member" wx:for-index="index" wx:key="index"><view class="member-item data-v-070ac2dc" style="{{'animation-delay:'+(index*0.1+'s')+';'}}"><image class="member-avatar data-v-070ac2dc" src="{{member.m3}}" mode="aspectFill"></image><text class="member-name data-v-070ac2dc">{{member.$orig.nickname||'匿名'}}</text><text class="member-role data-v-070ac2dc">{{member.$orig.roleName||'成员'}}</text></view></block></view><view data-event-opts="{{[['tap',[['viewAllMembers',['$event']]]]]}}" class="view-all-btn data-v-070ac2dc" bindtap="__e"><text class="data-v-070ac2dc">查看全部成员</text><view class="fa fa-angle-right _i data-v-070ac2dc"></view></view></view></view><view hidden="{{!(currentTab==='activities')}}" class="tab-panel data-v-070ac2dc"><block wx:if="{{$root.g0>0}}"><view class="internal-events data-v-070ac2dc"><text class="event-section-title data-v-070ac2dc">内部活动</text><view class="event-list data-v-070ac2dc"><block wx:for="{{$root.l1}}" wx:for-item="event" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['goToEventDetail',['$0'],[[['internalEvents','',index,'activityId']]]]]]]}}" class="event-item data-v-070ac2dc" bindtap="__e"><view class="event-date data-v-070ac2dc"><text class="date-month data-v-070ac2dc">{{event.m4}}</text><text class="date-day data-v-070ac2dc">{{event.m5}}</text></view><view class="event-info data-v-070ac2dc"><text class="event-title data-v-070ac2dc">{{event.$orig.name}}</text><text class="event-time data-v-070ac2dc"><view class="fa fa-clock-o _i data-v-070ac2dc"></view>{{''+event.m6+''}}</text><text class="{{['event-status','data-v-070ac2dc',(!event.$orig.isEnded)?'status-ongoing':'',(event.$orig.isEnded)?'status-ended':'']}}">{{''+(event.$orig.isEnded?'已结束':'进行中')+''}}</text></view></view></block></view></view></block><block wx:if="{{$root.g1>0}}"><view class="public-events data-v-070ac2dc"><text class="event-section-title data-v-070ac2dc">公开活动</text><view class="event-list data-v-070ac2dc"><block wx:for="{{$root.l2}}" wx:for-item="event" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['goToEventDetail',['$0'],[[['publicEvents','',index,'activityId']]]]]]]}}" class="event-item data-v-070ac2dc" bindtap="__e"><view class="event-date data-v-070ac2dc"><text class="date-month data-v-070ac2dc">{{event.m7}}</text><text class="date-day data-v-070ac2dc">{{event.m8}}</text></view><view class="event-info data-v-070ac2dc"><text class="event-title data-v-070ac2dc">{{event.$orig.name}}</text><text class="event-time data-v-070ac2dc"><view class="fa fa-clock-o _i data-v-070ac2dc"></view>{{''+event.m9+''}}</text><text class="{{['event-status','data-v-070ac2dc',(!event.$orig.isEnded)?'status-ongoing':'',(event.$orig.isEnded)?'status-ended':'']}}">{{''+(event.$orig.isEnded?'已结束':'进行中')+''}}</text></view></view></block></view></view></block><block wx:if="{{$root.g2}}"><view class="empty-state data-v-070ac2dc"><image class="empty-img data-v-070ac2dc" src="/static/no-activity.svg" mode="aspectFit"></image><text class="empty-title data-v-070ac2dc">暂无活动</text><text class="empty-subtitle data-v-070ac2dc">请关注社团后续动态</text></view></block></view><view hidden="{{!(currentTab==='announcements')}}" class="tab-panel data-v-070ac2dc"><block wx:if="{{$root.g3>0}}"><view class="inner-announcements data-v-070ac2dc"><text class="announcement-section-title data-v-070ac2dc">内部公告</text><view class="announcement-list data-v-070ac2dc"><block wx:for="{{$root.l3}}" wx:for-item="announcement" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['goToAnnouncementDetail',['$0'],[[['innerAnnouncements','',index,'announcementId']]]]]]]}}" class="announcement-item data-v-070ac2dc" bindtap="__e"><view class="announcement-header data-v-070ac2dc"><text class="announcement-title data-v-070ac2dc">{{announcement.$orig.title}}</text><text class="announcement-type inner data-v-070ac2dc">内部</text></view><text class="announcement-date data-v-070ac2dc">{{announcement.m10}}</text><text class="announcement-summary data-v-070ac2dc">{{announcement.$orig.summary||announcement.$orig.content||'暂无摘要'}}</text></view></block></view></view></block><block wx:if="{{$root.g4>0}}"><view class="public-announcements data-v-070ac2dc"><text class="announcement-section-title data-v-070ac2dc">公开公告</text><view class="announcement-list data-v-070ac2dc"><block wx:for="{{$root.l4}}" wx:for-item="announcement" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['goToAnnouncementDetail',['$0'],[[['publicAnnouncements','',index,'announcementId']]]]]]]}}" class="announcement-item data-v-070ac2dc" bindtap="__e"><view class="announcement-header data-v-070ac2dc"><text class="announcement-title data-v-070ac2dc">{{announcement.$orig.title}}</text><text class="announcement-type public data-v-070ac2dc">公开</text></view><text class="announcement-date data-v-070ac2dc">{{announcement.m11}}</text><text class="announcement-summary data-v-070ac2dc">{{announcement.$orig.summary||announcement.$orig.content||'暂无摘要'}}</text></view></block></view></view></block><block wx:if="{{$root.g5}}"><view class="empty-state data-v-070ac2dc"><image class="empty-img data-v-070ac2dc" src="/static/no-announcement.svg" mode="aspectFit"></image><text class="empty-title data-v-070ac2dc">暂无公告</text><text class="empty-subtitle data-v-070ac2dc">请关注社团后续通知</text></view></block></view><view hidden="{{!(currentTab==='achievements')}}" class="tab-panel data-v-070ac2dc"><view class="achievement-tags data-v-070ac2dc"><view data-event-opts="{{[['tap',[['switchAchievementType',['all']]]]]}}" class="{{['tag-item','data-v-070ac2dc',(currentAchievementType==='all')?'active':'']}}" bindtap="__e">全部成果</view><view data-event-opts="{{[['tap',[['switchAchievementType',['competition']]]]]}}" class="{{['tag-item','data-v-070ac2dc',(currentAchievementType==='competition')?'active':'']}}" bindtap="__e">竞赛获奖</view><view data-event-opts="{{[['tap',[['switchAchievementType',['project']]]]]}}" class="{{['tag-item','data-v-070ac2dc',(currentAchievementType==='project')?'active':'']}}" bindtap="__e">项目成果</view><view data-event-opts="{{[['tap',[['switchAchievementType',['other']]]]]}}" class="{{['tag-item','data-v-070ac2dc',(currentAchievementType==='other')?'active':'']}}" bindtap="__e">其他成果</view></view><view class="achievement-list data-v-070ac2dc"><block wx:for="{{$root.l5}}" wx:for-item="achievement" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['goToAchievementDetail',['$0'],[[['filteredAchievements','',index,'achievementId']]]]]]]}}" class="{{['achievement-item','data-v-070ac2dc',(achievement.$orig.type==='competition')?'type-competition':'',(achievement.$orig.type==='project')?'type-project':'',(achievement.$orig.type==='other')?'type-other':'']}}" bindtap="__e"><view class="achievement-header data-v-070ac2dc"><text class="achievement-title data-v-070ac2dc">{{achievement.$orig.title}}</text><text class="achievement-date data-v-070ac2dc">{{achievement.m12}}</text></view><view class="achievement-content data-v-070ac2dc"><block wx:if="{{achievement.g6}}"><image class="achievement-cover data-v-070ac2dc" src="{{achievement.m13}}" mode="aspectFill"></image></block><text class="achievement-desc data-v-070ac2dc">{{achievement.$orig.description||'暂无描述'}}</text></view><view class="achievement-footer data-v-070ac2dc"><text class="achievement-type data-v-070ac2dc">{{''+(achievementTypeMap[achievement.$orig.type]||'其他成果')+''}}</text><view class="achievement-tags data-v-070ac2dc"><block wx:for="{{achievement.$orig.tags||[]}}" wx:for-item="tag" wx:for-index="__i0__" wx:key="*this"><text class="tag data-v-070ac2dc">{{tag}}</text></block></view></view></view></block></view><block wx:if="{{$root.g7===0}}"><view class="empty-state data-v-070ac2dc"><image class="empty-img data-v-070ac2dc" src="/static/no-achievement.svg" mode="aspectFit"></image><text class="empty-title data-v-070ac2dc">暂无成果</text><text class="empty-subtitle data-v-070ac2dc">请关注社团后续发展</text></view></block></view><view hidden="{{!(currentTab==='attendance')}}" class="tab-panel data-v-070ac2dc"><view class="attendance-stats data-v-070ac2dc"><view class="stats-card data-v-070ac2dc"><text class="stats-title data-v-070ac2dc">本月考勤</text><view class="stats-content data-v-070ac2dc"><view class="stats-item data-v-070ac2dc"><text class="stats-value data-v-070ac2dc">{{attendanceStats.currentMonthCheckins||0}}</text><text class="stats-label data-v-070ac2dc">签到次数</text></view><view class="stats-item data-v-070ac2dc"><text class="stats-value data-v-070ac2dc">{{attendanceStats.currentMonthDuration||0}}</text><text class="stats-label data-v-070ac2dc">累计时长(分钟)</text></view></view></view></view><block wx:if="{{isMember}}"><view class="attendance-action data-v-070ac2dc"><button data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="{{['attendance-btn','data-v-070ac2dc',(!latestAttendance)?'btn-signin':'',(latestAttendance&&!latestAttendance.clockOutTime)?'btn-signout':'']}}" bindtap="__e">{{''+(!latestAttendance?'签到':latestAttendance.clockOutTime?'已完成今日考勤':'签退')+''}}</button></view></block><view class="attendance-records data-v-070ac2dc"><text class="section-title data-v-070ac2dc">最近考勤记录</text><view class="record-list data-v-070ac2dc"><block wx:for="{{$root.l6}}" wx:for-item="record" wx:for-index="index" wx:key="index"><view class="record-item data-v-070ac2dc"><view class="record-content data-v-070ac2dc"><view class="time-item data-v-070ac2dc"><view class="fa fa-sign-in _i data-v-070ac2dc"></view><text class="time-label data-v-070ac2dc">签到时间</text><text class="time-value data-v-070ac2dc">{{record.m14}}</text></view><block wx:if="{{record.$orig.clockOutTime}}"><view class="time-item data-v-070ac2dc"><view class="fa fa-sign-out _i data-v-070ac2dc"></view><text class="time-label data-v-070ac2dc">签退时间</text><text class="time-value data-v-070ac2dc">{{record.m15}}</text></view></block><block wx:if="{{record.$orig.studyDuration}}"><view class="time-item data-v-070ac2dc"><view class="fa fa-clock-o _i data-v-070ac2dc"></view><text class="time-label data-v-070ac2dc">学习时长</text><text class="time-value data-v-070ac2dc">{{record.m16}}</text></view></block></view></view></block></view></view><block wx:if="{{$root.g8===0}}"><view class="empty-state data-v-070ac2dc"><image class="empty-img data-v-070ac2dc" src="/static/no-attendance.svg" mode="aspectFit"></image><text class="empty-title data-v-070ac2dc">暂无考勤记录</text><text class="empty-subtitle data-v-070ac2dc">完成签到后即可查看记录</text></view></block></view></view></view>